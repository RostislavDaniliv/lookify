{% extends 'base.html' %}
{% load static %}

{% block title %}Lookify | Зачіска · Перегляд{% endblock %}

{% block content %}
<section class="py-8 px-4">
    <h1 class="text-4xl font-bold text-textlight text-center mb-10">Перевірте фото перед приміркою</h1>

    {% if user_photo_url and item_photo_urls %}
        <div class="grid md:grid-cols-2 gap-8 mb-10">
            <div class="bg-white/5 p-6 rounded-2xl border border-gray-700">
                <h2 class="text-xl font-semibold text-textlight mb-4">Фото користувача</h2>
                <div class="relative w-full max-w-sm aspect-square bg-gray-800 rounded-xl overflow-hidden">
                    <img src="{{ user_photo_url }}" alt="Фото користувача" class="w-full h-full object-cover rounded-xl border border-gray-600">
                </div>
            </div>
            <div class="bg-white/5 p-6 rounded-2xl border border-gray-700">
                <h2 class="text-xl font-semibold text-textlight mb-4">Фото зачісок</h2>
                {% for item_url in item_photo_urls %}
                    <div class="relative w-full max-w-sm aspect-square bg-gray-800 rounded-xl overflow-hidden mb-4 last:mb-0">
                        <img class="w-full h-full object-cover rounded-xl border border-gray-600" src="{{ item_url }}" alt="Фото зачіски {{ forloop.counter }}">
                    </div>
                {% endfor %}
            </div>
        </div>

        <form action="{% url 'hair_process_view' %}" method="post" class="bg-white/5 p-6 rounded-2xl border border-gray-700 text-left mb-10">
            {% csrf_token %}
            <div class="mb-6">
                <label for="additional-prompt" class="block text-textlight text-lg font-semibold mb-2">Додаткові побажання (необов'язково):</label>
                <textarea id="additional-prompt" name="additional_prompt" rows="4" class="w-full p-3 bg-gray-700/50 rounded-lg border border-gray-600 focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50 text-textlight placeholder-gray-500 transition-all duration-300" placeholder="Опишіть, який стиль або колір ви хочете."></textarea>
            </div>
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <a href="{% url 'hair_upload_view' %}" class="flex-1 w-full sm:w-auto px-6 py-3 border border-gray-600 rounded-xl text-textlight hover:border-primary hover:text-primary transition-all duration-300 text-center font-semibold">Змінити фото</a>
                <button type="submit" class="flex-1 w-full sm:w-auto px-6 py-3 bg-gradient-to-r from-primary to-secondary text-white font-bold rounded-xl shadow-lg hover:shadow-neon-secondary transition-all duration-300 text-center">Приміряти</button>
            </div>
        </form>
    {% else %}
        <div class="bg-white/5 p-10 rounded-2xl border border-gray-700 text-center">
            <h2 class="text-2xl font-semibold text-textlight mb-4">Немає фотографій для перегляду</h2>
            <a href="{% url 'hair_upload_view' %}" class="inline-block px-8 py-3 bg-gradient-to-r from-primary to-secondary text-white font-bold rounded-xl">Повернутись</a>
        </div>
    {% endif %}
</section>
{% endblock %}


